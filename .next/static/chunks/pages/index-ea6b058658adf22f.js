(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2603)}])},2603:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(5893),a=s(7294),c=s(6154);function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),[l,d]=(0,a.useState)([]),[o,r]=(0,a.useState)(""),[u,x]=(0,a.useState)(0),f=async()=>{i(!0);try{let t=await c.Z.post("https://nordcloud.cognitiveservices.azure.com/vision/v3.2/analyze?visualFeatures=Description",{url:e},{headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"5f8079bb0e5840db9183f4595a467fc7"}});r(e),x(e=>e+1);let s=t.data.description.tags,n=t.data.description.captions.map(e=>({text:e.text,confidence:e.confidence}));for(let e of s)n.push({text:e,confidence:0});n.sort((e,t)=>t.confidence-e.confidence),d(n)}catch(e){console.error(e),d([]),r("")}finally{i(!1)}};return(0,n.jsx)("div",{className:"flex flex-col justify-center min-h-screen bg-gray-100",children:(0,n.jsxs)("div",{className:"mx-auto w-full max-w-md",children:[(0,n.jsx)("header",{className:"flex justify-center items-center bg-slate-300 py-4 shadow-md rounded-md my-4",children:(0,n.jsxs)("h1",{className:"text-black font-bold text-3xl tracking-wide text-center",children:["Get photo categories with ",(0,n.jsx)("span",{className:"text-blue-900",children:"Azure Cognitive Services"})]})}),(0,n.jsxs)("div",{className:"bg-white flex items-center rounded-full shadow-xl",children:[(0,n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter image URL",className:"rounded-l-full w-full py-4 px-6 text-gray-700 leading-tight focus:outline-none"}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)("button",{onClick:f,disabled:!e||s,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-full ".concat(s&&"opacity-50 cursor-not-allowed"),children:s?"Loading...":"Get Predictions"})})]}),o&&(0,n.jsx)("div",{className:"mt-8",children:(0,n.jsx)("img",{src:o,className:"w-full max-w-md rounded-lg shadow-md"},u)}),l.length>0&&(0,n.jsxs)("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-md",children:[(0,n.jsx)("p",{className:"text-lg font-bold mb-4",children:"Top 3 Predictions"}),(0,n.jsx)("ul",{children:l.map((e,t)=>(0,n.jsxs)("li",{className:"flex justify-between items-center py-2 border-b border-gray-300",children:[(0,n.jsx)("span",{className:"font-semibold",children:e.text}),(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:["Confidence: ",(100*e.confidence).toFixed(2),"%"]})]},t))})]})]})})}}},function(e){e.O(0,[154,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);